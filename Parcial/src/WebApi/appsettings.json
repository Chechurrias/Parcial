var baseConnectionString = builder.Configuration.GetConnectionString("Sql");

// Obtener la contraseña desde variable de entorno
var dbPassword = Environment.GetEnvironmentVariable("DB_PASSWORD")
    ?? throw new InvalidOperationException("Environment variable DB_PASSWORD is not set.");

// Construir la cadena de conexión completa de forma segura
var connectionStringBuilder = new SqlConnectionStringBuilder(baseConnectionString)
{
    Password = dbPassword
};

BadDb.ConnectionString = connectionStringBuilder.ConnectionString;
